{"mappings":"AAEA,MAAMA,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,QAASF,SAASC,cAAc,YAChCE,SAAUH,SAASC,cAAc,eAG7BG,EAAiB,ICNR,MAMbC,gBACEC,QAAQC,IAAIC,MACZ,MAAMC,EAAM,qEAAiDD,KAAKE,4EAA4EF,KAAKG,kBACnJC,MAAMH,GACHI,MAAKC,GAAOA,EAAIC,SAChBF,MAAKG,IACJR,KAAKS,eAAe,G,CAG1BC,YACEV,KAAKG,KAAO,C,CAGdM,gBACET,KAAKG,MAAQ,C,CAGXQ,YACF,OAAOX,KAAKE,W,CAGVS,UAAMC,GACRZ,KAAKE,YAAcU,C,CA3BrBC,cACEb,KAAKE,YAAc,GACnBF,KAAKG,KAAO,C,GDKhBb,EAAKC,WAAWuB,iBAAiB,UASjC,SAAkBC,GAChBA,EAAEC,iBAEFpB,EAAeC,e,IAXjBP,EAAKC,WAAWuB,iBAAiB,SAGjC,SAAqBC,GACnBnB,EAAee,MAAQI,EAAEE,cAAcC,SAAShB,YAAYiB,MAC5DvB,EAAec,W,IAJjBpB,EAAKK,SAASmB,iBAAiB,SAY/B,WACElB,EAAeC,e","sources":["src/index.js","src/api/api_server.js"],"sourcesContent":["import NewsApiService from './api/api_server';\n\nconst refs = {\n  searchForm: document.querySelector('#search-form'),\n  gallery: document.querySelector('.gallery'),\n  loadMore: document.querySelector('.load-more'),\n};\n\nconst newsApiService = new NewsApiService();\n\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.searchForm.addEventListener('input', handleInput);\nrefs.loadMore.addEventListener('click', onLoadMore);\n\nfunction handleInput(e) {\n  newsApiService.query = e.currentTarget.elements.searchQuery.value;\n  newsApiService.resetPage();\n}\n\nfunction onSearch(e) {\n  e.preventDefault();\n\n  newsApiService.fetchGalleray();\n}\nfunction onLoadMore() {\n  newsApiService.fetchGalleray();\n}\n","const KEY_PIXABAY = `35768020-57bf980d1d69223dcc2d256cc`;\n\nexport default class newsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchGalleray() {\n    console.log(this);\n    const url = `https://pixabay.com/api/?key=${KEY_PIXABAY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${this.page}&per_page=5`;\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        this.incrementPage();\n      });\n  }\n  resetPage() {\n    this.page = 1;\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n\n// import axios from 'axios';\n// export default async function getPixabay(url) {\n//   const res = await axios.get(url);\n//   return res;\n// }\n"],"names":["$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","gallery","loadMore","$1f0dc3b9307be026$var$newsApiService","fetchGalleray","console","log","this","url","searchQuery","page","fetch","then","res","json","data","incrementPage","resetPage","query","newQuery","constructor","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.8eede36e.js.map"}