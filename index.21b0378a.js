!function(){function e(e){return e&&e.__esModule?e.default:e}var t={};Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var n={};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t,n){t&&a(e.prototype,t);n&&a(e,n);return e};var i=function(){"use strict";function a(){e(t)(this,a),this.searchQuery="",this.page=1,this.per_page=40,this.fetch=!0}return e(n)(a,[{key:"fetchGalleray",value:function(){if(""!==this.searchQuery&&this.fetch){var e=this,t="".concat("https://pixabay.com/api/","?key=").concat("35768020-57bf980d1d69223dcc2d256cc","&q=").concat(this.searchQuery,"&image_type=photo&orientation=horizontal&safesearch=true&page=").concat(this.page,"&per_page=").concat(this.per_page);return fetch(t).then((function(e){return e.json()})).then((function(t){return e.incrementPage(t.totalHits),t}))}}},{key:"resetPage",value:function(){this.page=1}},{key:"incrementPage",value:function(e){e>this.page*this.per_page?this.page+=1:this.fetch=!1}},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),a}();function s(e){return'\n   \n     <a href="'.concat(e.largeImageURL,'" >\n        <div class="photo-card">\n           <img  class=\'gallery__image\' src=').concat(e.webformatURL," alt=").concat(e.tags," title=").concat(e.tags,' loading="lazy" width=\'350\' height = \'235\' />\n             <div class="info">\n            <p class="info-item">\n               <b>Likes <span>').concat(e.likes,'</span></b>\n            </p>\n             <p class="info-item">\n                 <b>Views <span>').concat(e.views,'</span></b>\n             </p>\n            <p class="info-item">\n                 <b>Comments <span>').concat(e.comments,'</span></b>\n            </p>\n             <p class="info-item">\n                 <b>Downloads <span>').concat(e.downloads,"</span> </b>\n             </p>\n          </div>\n        </div>\n     </a>\n  \n    ")}var r=new(function(){"use strict";function a(n){var i=n.selector,s=n.hidden,r=void 0!==s&&s;e(t)(this,a),this.refs=this.getRefs(i),r&&this.hide()}return e(n)(a,[{key:"getRefs",value:function(e){var t={};return t.button=document.querySelector(e),t.label=t.button.querySelector(".label"),t.spinner=t.button.querySelector(".spinner"),t}},{key:"eneble",value:function(){this.refs.button.disabled=!1,this.refs.button.textContent="Показати ще",this.refs.spinner.classList.add(".is-hidden")}},{key:"disable",value:function(){this.refs.button.disabled=!0,this.refs.button.textContent="Йде загрузка ... ",this.refs.spinner.classList.remove("is-hidden")}},{key:"show",value:function(){this.refs.button.classList.remove("is-hidden")}},{key:"hide",value:function(){this.refs.button.classList.add("is-hidden")}}]),a}())({selector:".load-more",hidden:!0}),c={searchForm:document.querySelector("#search-form"),gallery:document.querySelector(".gallery")},o=new i;function u(){var e;o.fetch&&(1===o.page&&(c.gallery.innerHTML=""),null===(e=o.fetchGalleray())||void 0===e||e.then((function(e){o.fetch?(r.show(),r.disable()):r.hide(),function(e){var t=e.hits.map((function(e){return s(e)})).join("");r.eneble(),c.gallery.insertAdjacentHTML("beforeend",t)}(e)})))}c.searchForm.addEventListener("submit",(function(e){e.preventDefault(),u()})),c.searchForm.addEventListener("input",(function(e){o.fetch=!0,o.query=e.currentTarget.elements.searchQuery.value,o.resetPage()})),r.refs.button.addEventListener("click",(function(){u()}))}();
//# sourceMappingURL=index.21b0378a.js.map
